#!/bin/bash

function up {
    docker compose up --remove-orphans --build $@
}

function down {
    docker compose down --rmi all --volumes --remove-orphans $@
    docker system prune -a -f --volumes
}

function api_test {
    npm test
}

function api_test_stg {
    URL=https://stg.ai.propmatch.co.uk npm test
}

# ---------- Do NOT edit below --------------

function help { ## Display usage for this application
  echo "$0 <task> <args>"
  grep -E '^function [a-zA-Z_-]+ {.*?## .*$$' $0 | sed -e 's/function //' | sort | awk 'BEGIN {FS = "{.*?## "}; {printf "\033[93m%-30s\033[92m %s\033[0m\n", $1, $2}'
}

TIMEFORMAT="Task completed in %3lR"
time ${@:-help}
